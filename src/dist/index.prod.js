"use strict";var axios=require("axios"),fs=require("fs"),convert=require("xml-js"),moeda="USD",dias=3,dataInicial="01-01-2019",dataFinal="12-31-2020",link="https://olinda.bcb.gov.br/olinda/servico/PTAX/versao/v1/odata/CotacaoDolarPeriodo(dataInicial=@dataInicial,dataFinalCotacao=@dataFinalCotacao)?@dataInicial='".concat(dataInicial,"'&@dataFinalCotacao='").concat(dataFinal,"'&$format=json&$select=cotacaoCompra,cotacaoVenda,dataHoraCotacao"),getCotacao=function(){return regeneratorRuntime.async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,regeneratorRuntime.awrap(axios.get(link));case 3:return a.abrupt("return",a.sent);case 6:a.prev=6,a.t0=a.catch(0),console.error(a.t0);case 9:case"end":return a.stop()}},null,null,[[0,6]])},retornaCotacao=function(){var t,e,o,r;return regeneratorRuntime.async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,regeneratorRuntime.awrap(getCotacao());case 2:t=a.sent,e=t.data.value,o={compact:!0,spaces:4,ignoreText:!0},r=convert.js2xml(e,o),console.log(r),fs.writeFile("cotacoes.txt",convert.js2xml(e,o),function(a){return a?console.log(a):void console.log("Cotações > cotacoes.txt")});case 8:case"end":return a.stop()}})};retornaCotacao();